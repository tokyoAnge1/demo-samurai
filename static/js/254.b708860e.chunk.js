(self.webpackChunktokyo=self.webpackChunktokyo||[]).push([[254],{4010:function(e,t,r){"use strict";var s=r(8683),n=r(5671),o=r(3144),a=r(136),u=r(5716),i=r(2791),c=r(364),l=r(6871),p=r(184),d=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){var t=function(t){(0,a.Z)(i,t);var r=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),r.apply(this,arguments)}return(0,o.Z)(i,[{key:"render",value:function(){return!1===this.props.isAuth?(0,p.jsx)(l.Fg,{to:"/login"}):(0,p.jsx)(e,(0,s.Z)({},this.props))}}]),i}(i.Component);return(0,c.$j)(d)(t)}},5254:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var s=r(5671),n=r(3144),o=r(136),a=r(5716),u=r(2791),i=r(4207),c=r(6139),l=r(704),p=r(5304),d=r(184),f=(0,l.Z)({form:"posts"})((function(e){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"my-post",children:"My posts"}),(0,d.jsx)("div",{className:"add-post",children:(0,d.jsx)(c.Z,{name:"PostsTextArea",placeholder:"post",component:i.i,validate:[p.C1,p.FO]})}),(0,d.jsx)("button",{className:"add-post__button",onClick:function(){return e.handleSubmit()},children:"Add Post"})]})})),h={post:"Post_post__zF0kb",posts:"Post_posts__PrBSN",post__header:"Post_post__header__Smo1Z",post__title:"Post_post__title__8K6Iw",post__body:"Post_post__body__qEV2R"};function m(e){return(0,d.jsx)("div",{className:h.posts,children:(0,d.jsxs)("div",{className:h.post,children:[(0,d.jsxs)("div",{className:h.post__header,children:[(0,d.jsx)("div",{className:"user-image-container width_small",children:(0,d.jsx)("div",{className:"user-image"})}),(0,d.jsxs)("div",{className:"user-namimg font_size_small",children:[(0,d.jsx)("p",{className:"user-name",children:e.userName}),(0,d.jsx)("p",{className:"user-lastname",children:e.userLastName})]})]}),(0,d.jsxs)("div",{className:h.post__body,children:[(0,d.jsx)("p",{className:h.post__title,children:e.title}),(0,d.jsx)("p",{className:h.post__text,children:e.message})]})]})})}r.e(838).then(r.bind(r,1838));var j=r(6070),v=r(364);r.e(838).then(r.bind(r,1838));var x=(0,v.$j)((function(e){return{posts:e.profile.posts}}),{addPostAC:j.Pi})((function(e){var t=e.posts.map((function(e){return(0,d.jsx)(m,{userName:e.uName,userLastName:e.uLName,title:e.ttl,message:e.mssg,id:e.id},e.id)}));return(0,d.jsxs)("div",{className:"posts-area",children:[(0,d.jsx)(f,{onSubmit:function(t){e.addPostAC(t.PostsTextArea)}}),t]})})),_=r(4974),y=r(885),g=function(e){var t=(0,u.useState)(!1),r=(0,y.Z)(t,2),s=r[0],n=r[1],o=(0,u.useState)(e.status),a=(0,y.Z)(o,2),i=a[0],c=a[1];return(0,u.useEffect)((function(){c(e.status)}),[e.status]),(0,d.jsxs)("div",{children:[!s&&(0,d.jsx)("div",{children:(0,d.jsx)("p",{onClick:function(){n(!0)},children:e.status})}),s&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{value:i,onChange:function(e){return function(e){c(e.currentTarget.value)}(e)},onBlur:function(){return n(!1),void e.updateStatus(i)},autoFocus:!0,type:"text"})})]})},N=r(7332);function b(e){return e.userInfo?(console.log(e.userInfo),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"image-container",children:[" ",(0,d.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=4ba026795389ecd806da3318055f4a6e-2454879-images-thumbs&n=13"})]}),(0,d.jsxs)("div",{className:"profile",children:[(0,d.jsxs)("div",{className:"user-image-container",children:[(0,d.jsx)("img",{className:"user-image",alt:"",src:e.userInfo.photos.small||e.userInfo.photos.large||N}),e.isOwner?(0,d.jsx)("input",{type:"file"}):""]}),(0,d.jsxs)("div",{className:"user",children:[(0,d.jsx)("div",{className:"user-namimg",children:(0,d.jsx)("p",{className:"user-name",children:e.userInfo.fullName})}),(0,d.jsx)(g,{updateStatus:e.updateStatus,status:e.userStatus})]})]})]})):(0,d.jsx)(_.Z,{})}r.e(449).then(r.bind(r,4449));var w=function(e){return(0,d.jsxs)("div",{className:"profile-content",children:[(0,d.jsx)(b,{isOwner:e.isOwner,updateStatus:e.updateStatus,userInfo:e.newUserInfo,userStatus:e.userStatus}),(0,d.jsx)(x,{})]})},S=r(4010),k=r(6871),P=r(6742),I="ErrorFallBack_fallBackContainer__4f7Ya",U="ErrorFallBack_fallBackImg__mlx+e",Z=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,s.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"updateUserInfo",value:function(){var e=this.props.nowPath;""===e&&(e=this.props.autorisedUserId),this.props.getProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.updateUserInfo(),console.log("mount profile")}},{key:"componentDidUpdate",value:function(e,t,r){this.props.nowPath!=e.nowPath&&this.updateUserInfo()}},{key:"render",value:function(){return(0,d.jsx)("div",{className:"profile-content",children:(0,d.jsx)(w,{isOwner:!this.props.nowPath,userStatus:this.props.userStatus,isAuth:this.props.isAuth,newUserInfo:this.props.newUserInfo,updateStatus:this.props.updateStatus})})}}]),r}(u.Component),E=(0,S.Z)(Z),C=(0,v.$j)((function(e){return{newUserInfo:e.profile.userInfo,userStatus:e.profile.status,autorisedUserId:e.auth.userId}}),{getUserProfile:j.et,getUserStatus:j.Tq,updateStatus:j.Nf})((function(e){var t=(0,k.UO)(E);return console.log(t),(0,d.jsx)(E,{autorisedUserId:e.autorisedUserId,nowPath:t["*"],userStatus:e.userStatus,getProfile:e.getUserProfile,getUserStatus:e.getUserStatus,newUserInfo:e.newUserInfo,updateStatus:e.updateStatus})})),O=(0,P.withErrorBoundary)(C,{FallbackComponent:function(){return(0,d.jsx)("div",{className:I,children:(0,d.jsx)("img",{className:U,src:"https://storage.googleapis.com/support-forums-api/attachment/thread-10817954-18222560984719993620.jpg",alt:""})})}})},4207:function(e,t,r){"use strict";r.d(t,{t:function(){return u},i:function(){return i}});var s=r(8683),n={errorstyle:"CustomTextarea_errorstyle__Yjhty",normalstyle:"CustomTextarea_normalstyle__teZwA",error:"CustomTextarea_error__yRhZl"},o=r(184),a=function(e){var t=e.meta,r=t.touched,s=t.error,a=e.children,u=r&&s;return(0,o.jsxs)("div",{className:u?n.errorstyle2:n.normalstyle2,children:[a,u?(0,o.jsx)("span",{className:n.error,children:s}):""]})},u=function(e){return(0,o.jsx)(a,{meta:e.meta,children:(0,o.jsx)("input",(0,s.Z)((0,s.Z)({},e.input),e))})},i=function(e){return(0,o.jsx)(a,{meta:e.meta,children:(0,o.jsx)("textarea",(0,s.Z)((0,s.Z)({},e.input),e))})}},5304:function(e,t,r){"use strict";r.d(t,{C1:function(){return s},FO:function(){return o},Py:function(){return a}});var s=function(e){if(!e)return"Error, Field is required"},n=function(e){return function(t){if(t&&t.length>e)return"Error, max symbols is ".concat(e)}},o=n(15),a=n(50)},6742:function(e,t,r){!function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var s=r(t);function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}var a=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,r){return!Object.is(e,t[r])}))},u={error:null},i=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).state=u,t.resetErrorBoundary=function(){for(var e,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];null==t.props.onReset||(e=t.props).onReset.apply(e,s),t.reset()},t}o(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var r=t.prototype;return r.reset=function(){this.setState(u)},r.componentDidCatch=function(e,t){var r,s;null==(r=(s=this.props).onError)||r.call(s,e,t)},r.componentDidUpdate=function(e,t){var r,s,n=this.state.error,o=this.props.resetKeys;null!==n&&null!==t.error&&a(e.resetKeys,o)&&(null==(r=(s=this.props).onResetKeysChange)||r.call(s,e.resetKeys,o),this.reset())},r.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,n=t.FallbackComponent,o=t.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(s.isValidElement(o))return o;if("function"===typeof r)return r(a);if(n)return s.createElement(n,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(s.Component);function c(e,t){var r=function(r){return s.createElement(i,t,s.createElement(e,r))},n=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary("+n+")",r}function l(e){var t=s.useState(null),r=t[0],n=t[1];if(null!=e)throw e;if(null!=r)throw r;return n}e.ErrorBoundary=i,e.useErrorHandler=l,e.withErrorBoundary=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(2791))},7332:function(e,t,r){"use strict";e.exports=r.p+"static/media/stanI.5276eeff6a87e51753f0.png"}}]);
//# sourceMappingURL=254.b708860e.chunk.js.map