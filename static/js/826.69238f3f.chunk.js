(self.webpackChunktokyo=self.webpackChunktokyo||[]).push([[826],{4010:function(e,t,r){"use strict";var s=r(8683),n=r(5671),o=r(3144),a=r(136),i=r(5716),u=r(2791),c=r(364),l=r(6871),d=r(184),p=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){var t=function(t){(0,a.Z)(u,t);var r=(0,i.Z)(u);function u(){return(0,n.Z)(this,u),r.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){return!1===this.props.isAuth?(0,d.jsx)(l.Fg,{to:"/login"}):(0,d.jsx)(e,(0,s.Z)({},this.props))}}]),u}(u.Component);return(0,c.$j)(p)(t)}},9826:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var s=r(5671),n=r(3144),o=r(136),a=r(5716),i=r(2791),u=r(885),c=r(4207),l=r(6139),d=r(704),p=r(5304),f=r(184),h=(0,d.Z)({form:"posts"})((function(e){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"my-post",children:"My posts"}),(0,f.jsx)("div",{className:"add-post",children:(0,f.jsx)(l.Z,{name:"PostsTextArea",placeholder:"post",component:c.i,validate:[p.C1,p.FO]})}),(0,f.jsx)("button",{className:"add-post__button",onClick:function(){return e.handleSubmit()},children:"Add Post"})]})})),m={post:"Post_post__zF0kb",posts:"Post_posts__PrBSN",post__header:"Post_post__header__Smo1Z",post__title:"Post_post__title__8K6Iw",post__body:"Post_post__body__qEV2R"};function v(e){return(0,f.jsx)("div",{className:m.posts,children:(0,f.jsxs)("div",{className:m.post,children:[(0,f.jsxs)("div",{className:m.post__header,children:[(0,f.jsx)("div",{className:"user-image-container width_small",children:(0,f.jsx)("div",{className:"user-image"})}),(0,f.jsxs)("div",{className:"user-namimg font_size_small",children:[(0,f.jsx)("p",{className:"user-name",children:e.userName}),(0,f.jsx)("p",{className:"user-lastname",children:e.userLastName})]})]}),(0,f.jsxs)("div",{className:m.post__body,children:[(0,f.jsx)("p",{className:m.post__title,children:e.title}),(0,f.jsx)("p",{className:m.post__text,children:e.message})]})]})})}r.e(838).then(r.bind(r,1838));var j=r(6070),x=r(364);r.e(838).then(r.bind(r,1838));var g=(0,x.$j)((function(e){return{posts:e.profile.posts}}),{addPostAC:j.Pi})((function(e){var t=e.posts.map((function(e){return(0,f.jsx)(v,{userName:e.uName,userLastName:e.uLName,title:e.ttl,message:e.mssg,id:e.id},e.id)}));return(0,f.jsxs)("div",{className:"posts-area",children:[(0,f.jsx)(h,{onSubmit:function(t){e.addPostAC(t.PostsTextArea)}}),t]})})),_=r(4974),y=function(e){var t=(0,i.useState)(!1),r=(0,u.Z)(t,2),s=r[0],n=r[1],o=(0,i.useState)(e.status),a=(0,u.Z)(o,2),c=a[0],l=a[1];return(0,i.useEffect)((function(){l(e.status)}),[e.status]),(0,f.jsxs)("div",{children:[!s&&(0,f.jsx)("div",{children:(0,f.jsxs)("p",{onClick:function(){n(!0)},children:[(0,f.jsx)("b",{children:"Status: "}),e.status]})}),s&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{value:c,onChange:function(e){return function(e){l(e.currentTarget.value)}(e)},onBlur:function(){return n(!1),void e.updateStatus(c)},autoFocus:!0,type:"text"})})]})},b=r(7332);function k(e){var t=(0,i.useState)(!1),r=(0,u.Z)(t,2),s=r[0],n=r[1];if(!e.userInfo)return(0,f.jsx)(_.Z,{});return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"image-container",children:[" ",(0,f.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=4ba026795389ecd806da3318055f4a6e-2454879-images-thumbs&n=13"})]}),(0,f.jsxs)("div",{className:"profile",children:[(0,f.jsxs)("div",{className:"user-image-container",children:[(0,f.jsx)("img",{className:"user-image",alt:"",src:e.userInfo.photos.small||e.userInfo.photos.large||b}),e.isOwner&&(0,f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})]}),(0,f.jsxs)("div",{className:"user",children:[(0,f.jsx)("div",{className:"user-namimg",children:(0,f.jsx)("p",{className:"user-name",children:e.userInfo.fullName})}),(0,f.jsxs)("div",{children:["Looking for a job: ",e.userInfo.lookingForAJob?"yes":"no"]}),e.userInfo.lookingForAJob&&e.userInfo.lookingForAJobDescription,(0,f.jsxs)("div",{children:["About me: ",e.userInfo.aboutMe||"nothing i'd like to tell"]}),(0,f.jsxs)("div",{className:"contacts",onClick:function(e){return n(!s)},children:["My Contacts:",(0,f.jsx)("br",{}),(0,f.jsx)("ul",{children:Object.keys(e.userInfo.contacts).map((function(t){return(0,f.jsx)(P,{contactTitle:t,contactValue:e.userInfo[t],showContacts:s},t)}))})]}),(0,f.jsx)("div",{}),(0,f.jsx)(y,{updateStatus:e.updateStatus,status:e.userStatus})]})]})]})}var P=function(e){var t=e.contactTitle,r=e.contactValue,s=e.showContacts;return(0,f.jsxs)("li",{className:s?"showedContact":"hiddenContact",children:[t,": ",r||"none)"]})},N=r(4896),S=(0,d.Z)({form:"editProfile"})((function(e){var t=(0,i.useState)(!1),r=(0,u.Z)(t,2),s=r[0],n=r[1];return(0,f.jsxs)(f.Fragment,{children:["Full name:",(0,N.Z)([p.C1,p.Py],"","fullName",c.t),"Looking for a job  ",(0,f.jsx)("div",{children:(0,N.Z)([p.C1],"","lookingForAJob",c.t,{type:"checkbox",onClick:function(){return n(!s)}})}),s&&(0,N.Z)([],"looking for a job description","lookingForAJobDescription",c.i),"AboutMe:",(0,N.Z)([],"","aboutMe",c.i),(0,f.jsx)("button",{onClick:e.handleSubmit,children:"Done"})]})}));r.e(449).then(r.bind(r,4449));var w=function(e){var t=(0,i.useState)(!1),r=(0,u.Z)(t,2),s=r[0],n=r[1];return(0,f.jsxs)("div",{className:"profile-content",children:[s?(0,f.jsx)(S,{onSubmit:function(t){console.log(t),e.updateProfile(t),n(!1)},changeEditMode:function(){return n(!1)}}):(0,f.jsxs)(f.Fragment,{children:[" ",(0,f.jsx)(k,{savePhoto:e.savePhoto,isOwner:e.isOwner,updateStatus:e.updateStatus,userInfo:e.newUserInfo,userStatus:e.userStatus}),(0,f.jsx)("button",{onClick:function(e){n(!0)},children:"EDIT PROFILE"})]}),(0,f.jsx)(g,{})]})},Z=r(4010),C=r(6871),I=r(6742),E="ErrorFallBack_fallBackContainer__4f7Ya",U="ErrorFallBack_fallBackImg__mlx+e",F=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,s.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"updateUserInfo",value:function(){var e=this.props.nowPath;""===e&&(e=this.props.autorisedUserId),this.props.getProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.updateUserInfo(),console.log("mount profile")}},{key:"componentDidUpdate",value:function(e,t,r){console.log(this.props),this.props.nowPath!=e.nowPath&&this.updateUserInfo()}},{key:"render",value:function(){return(0,f.jsx)("div",{className:"profile-content",children:(0,f.jsx)(w,{updateProfile:this.props.updateProfile,savePhoto:this.props.savePhoto,isOwner:!this.props.nowPath,userStatus:this.props.userStatus,isAuth:this.props.isAuth,newUserInfo:this.props.newUserInfo,updateStatus:this.props.updateStatus})})}}]),r}(i.Component),A=(0,Z.Z)(F),O=(0,x.$j)((function(e){return{newUserInfo:e.profile.userInfo,userStatus:e.profile.status,autorisedUserId:e.auth.userId}}),{getUserProfile:j.et,getUserStatus:j.Tq,updateStatus:j.Nf,savePhoto:j.Ju,updateProfile:j.ck})((function(e){var t=(0,C.UO)(A);return console.log(t),(0,f.jsx)(A,{updateProfile:e.updateProfile,savePhoto:e.savePhoto,autorisedUserId:e.autorisedUserId,nowPath:t["*"],userStatus:e.userStatus,getProfile:e.getUserProfile,getUserStatus:e.getUserStatus,newUserInfo:e.newUserInfo,updateStatus:e.updateStatus})})),B=(0,I.withErrorBoundary)(O,{FallbackComponent:function(){return(0,f.jsx)("div",{className:E,children:(0,f.jsx)("img",{className:U,src:"https://storage.googleapis.com/support-forums-api/attachment/thread-10817954-18222560984719993620.jpg",alt:""})})}})},4207:function(e,t,r){"use strict";r.d(t,{t:function(){return i},i:function(){return u}});var s=r(8683),n={errorstyle:"CustomTextarea_errorstyle__Yjhty",normalstyle:"CustomTextarea_normalstyle__teZwA",error:"CustomTextarea_error__yRhZl"},o=r(184),a=function(e){var t=e.meta,r=t.touched,s=t.error,a=e.children,i=r&&s;return(0,o.jsxs)("div",{className:i?n.errorstyle2:n.normalstyle2,children:[a,i?(0,o.jsx)("span",{className:n.error,children:s}):""]})},i=function(e){return(0,o.jsx)(a,{meta:e.meta,children:(0,o.jsx)("input",(0,s.Z)((0,s.Z)({},e.input),e))})},u=function(e){return(0,o.jsx)(a,{meta:e.meta,children:(0,o.jsx)("textarea",(0,s.Z)((0,s.Z)({},e.input),e))})}},4896:function(e,t,r){"use strict";var s=r(8683),n=r(6139),o=r(184);t.Z=function(e,t,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,o.jsxs)("div",{children:[(0,o.jsx)(n.Z,(0,s.Z)({validate:e,placeholder:t,name:r,component:a},i))," ",u]})}},5304:function(e,t,r){"use strict";r.d(t,{C1:function(){return s},FO:function(){return o},Py:function(){return a}});var s=function(e){if(!e)return"Error, Field is required"},n=function(e){return function(t){if(t&&t.length>e)return"Error, max symbols is ".concat(e)}},o=n(15),a=n(50)},6742:function(e,t,r){!function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var s=r(t);function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}var a=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,r){return!Object.is(e,t[r])}))},i={error:null},u=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).state=i,t.resetErrorBoundary=function(){for(var e,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];null==t.props.onReset||(e=t.props).onReset.apply(e,s),t.reset()},t}o(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var r=t.prototype;return r.reset=function(){this.setState(i)},r.componentDidCatch=function(e,t){var r,s;null==(r=(s=this.props).onError)||r.call(s,e,t)},r.componentDidUpdate=function(e,t){var r,s,n=this.state.error,o=this.props.resetKeys;null!==n&&null!==t.error&&a(e.resetKeys,o)&&(null==(r=(s=this.props).onResetKeysChange)||r.call(s,e.resetKeys,o),this.reset())},r.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,n=t.FallbackComponent,o=t.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(s.isValidElement(o))return o;if("function"===typeof r)return r(a);if(n)return s.createElement(n,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(s.Component);function c(e,t){var r=function(r){return s.createElement(u,t,s.createElement(e,r))},n=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary("+n+")",r}function l(e){var t=s.useState(null),r=t[0],n=t[1];if(null!=e)throw e;if(null!=r)throw r;return n}e.ErrorBoundary=u,e.useErrorHandler=l,e.withErrorBoundary=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(2791))},7332:function(e,t,r){"use strict";e.exports=r.p+"static/media/stanI.5276eeff6a87e51753f0.png"}}]);
//# sourceMappingURL=826.69238f3f.chunk.js.map